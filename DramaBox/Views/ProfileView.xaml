<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="DramaBox.Views.ProfileView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Shell.NavBarIsVisible="False"
    NavigationPage.HasNavigationBar="False"
    NavigationPage.HasBackButton="False"
    BackgroundColor="{AppThemeBinding Light=#F4F6FB, Dark=#0B1220}">

    <ContentPage.Resources>
        <ResourceDictionary>
            <Color x:Key="TextLight">#0F172A</Color>
            <Color x:Key="TextDark">#E5E7EB</Color>
            <Color x:Key="MutedLight">#64748B</Color>
            <Color x:Key="MutedDark">#9CA3AF</Color>
            <Color x:Key="BorderLight">#E2E8F0</Color>
            <Color x:Key="BorderDark">#1F2937</Color>

            <Style x:Key="H1" TargetType="Label">
                <Setter Property="FontSize" Value="20"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource TextLight}, Dark={StaticResource TextDark}}"/>
            </Style>

            <Style x:Key="Muted" TargetType="Label">
                <Setter Property="FontSize" Value="12.5"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource MutedLight}, Dark={StaticResource MutedDark}}"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid RowDefinitions="Auto,*">

        <!-- TOPBAR (igual ao mock) -->
        <Grid Grid.Row="0"
              Padding="12,12,12,10"
              ColumnDefinitions="*,Auto"
              BackgroundColor="{AppThemeBinding Light=#EFEFEF, Dark=#0F172ACC}">

            <Label Text="Perfil" Style="{StaticResource H1}" />

            <!-- se quiser remover a engrenagem: apague esse Frame -->
            
        </Grid>

        <!-- CONTENT -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="12" Padding="12,10,12,110">

                <!-- CARD PERFIL -->
                <Border Stroke="{AppThemeBinding Light={StaticResource BorderLight}, Dark={StaticResource BorderDark}}"
                        StrokeThickness="1"
                        BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#0F172A}">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>

                    <Grid Padding="14" RowDefinitions="Auto,Auto,Auto" RowSpacing="10">

                        <!-- Badge Premium (top-left) -->
                        <Border x:Name="PremiumBadge"
                                IsVisible="False"
                                Padding="10,6"
                                BackgroundColor="#EEF2FF"
                                Stroke="#E2E8F0"
                                StrokeThickness="1"
                                HorizontalOptions="Start">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="999"/>
                            </Border.StrokeShape>
                            <HorizontalStackLayout Spacing="8">
                                <Label Text="â˜†" FontAttributes="Bold" TextColor="#1D4ED8" />
                                <Label Text="Premium" FontAttributes="Bold" TextColor="#1D4ED8" FontSize="13"/>
                            </HorizontalStackLayout>
                        </Border>

                        <!-- Avatar central -->
                        <Grid Grid.Row="1" HorizontalOptions="Center" RowDefinitions="Auto,Auto,Auto" RowSpacing="8">

                            <Grid WidthRequest="92" HeightRequest="92">
                                <Border StrokeThickness="0" WidthRequest="92" HeightRequest="92">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="46"/>
                                    </Border.StrokeShape>

                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#7a5cff" Offset="0"/>
                                            <GradientStop Color="#ff4fd8" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>

                                    <Grid>
                                        <Image x:Name="ProfileImage"
                                               Aspect="AspectFill"
                                               IsVisible="False"/>
                                        <Label x:Name="InitialsLabel"
                                               Text="DL"
                                               TextColor="White"
                                               FontSize="26"
                                               FontAttributes="Bold"
                                               HorizontalTextAlignment="Center"
                                               VerticalTextAlignment="Center"/>
                                    </Grid>
                                </Border>
                            </Grid>

                            <Label x:Name="NameLabel"
                                   Grid.Row="1"
                                   Text="â€”"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   HorizontalTextAlignment="Center"
                                   TextColor="{AppThemeBinding Light={StaticResource TextLight}, Dark={StaticResource TextDark}}"/>

                            <Label Grid.Row="2"
                                   Text="Conta e estatÃ­sticas (mock)"
                                   HorizontalTextAlignment="Center"
                                   Style="{StaticResource Muted}"/>
                        </Grid>

                        <!-- Chips stats -->
                        <VerticalStackLayout Grid.Row="2" Spacing="10">

                            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                                <Border BackgroundColor="{AppThemeBinding Light=#F8FAFC, Dark=#0B1220}"
                                        Stroke="{AppThemeBinding Light={StaticResource BorderLight}, Dark={StaticResource BorderDark}}"
                                        StrokeThickness="1"
                                        Padding="10,9">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="999"/>
                                    </Border.StrokeShape>
                                    <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                                        <Label Text="â¤ï¸" FontSize="13"/>
                                        <Label x:Name="LikesReceivedLabel"
                                               Text="0 curtidas"
                                               FontSize="13"
                                               FontAttributes="Bold"
                                               TextColor="{AppThemeBinding Light=#334155, Dark=#CBD5E1}"/>
                                    </HorizontalStackLayout>
                                </Border>

                                <Border Grid.Column="1"
                                        BackgroundColor="{AppThemeBinding Light=#F8FAFC, Dark=#0B1220}"
                                        Stroke="{AppThemeBinding Light={StaticResource BorderLight}, Dark={StaticResource BorderDark}}"
                                        StrokeThickness="1"
                                        Padding="10,9">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="999"/>
                                    </Border.StrokeShape>
                                    <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                                        <Label Text="ðŸ“Œ" FontSize="13"/>
                                        <Label x:Name="SavedLabel"
                                               Text="0 salvos"
                                               FontSize="13"
                                               FontAttributes="Bold"
                                               TextColor="{AppThemeBinding Light=#334155, Dark=#CBD5E1}"/>
                                    </HorizontalStackLayout>
                                </Border>
                            </Grid>

                            <Border BackgroundColor="{AppThemeBinding Light=#F8FAFC, Dark=#0B1220}"
                                    Stroke="{AppThemeBinding Light={StaticResource BorderLight}, Dark={StaticResource BorderDark}}"
                                    StrokeThickness="1"
                                    Padding="10,9">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="999"/>
                                </Border.StrokeShape>
                                <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                                    <Label Text="ðŸ“º" FontSize="13"/>
                                    <Label x:Name="EpisodesPublishedLabel"
                                           Text="0 ep publicados"
                                           FontSize="13"
                                           FontAttributes="Bold"
                                           TextColor="{AppThemeBinding Light=#334155, Dark=#CBD5E1}"/>
                                </HorizontalStackLayout>
                            </Border>

                        </VerticalStackLayout>
                    </Grid>
                </Border>

                <!-- ASSINATURA -->
                <Border Stroke="{AppThemeBinding Light={StaticResource BorderLight}, Dark={StaticResource BorderDark}}"
                        StrokeThickness="1"
                        BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#0F172A}">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>

                    <VerticalStackLayout Spacing="8" Padding="14">
                        <Label Text="Assinatura"
                               FontSize="15"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={StaticResource TextLight}, Dark={StaticResource TextDark}}"/>

                        <Label Text="Gerencie seu plano e pagamentos."
                               Style="{StaticResource Muted}"/>

                        <Border StrokeThickness="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="14"/>
                            </Border.StrokeShape>

                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#2563EB" Offset="0"/>
                                    <GradientStop Color="#1D4ED8" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>

                            <Button Text="Abrir planos"
                                    FontAttributes="Bold"
                                    FontSize="14"
                                    TextColor="White"
                                    BackgroundColor="Transparent"
                                    Padding="14,12"
                                    Clicked="OnOpenUpgradeClicked"/>
                        </Border>
                    </VerticalStackLayout>
                </Border>

                <!-- SAIR -->
                <Border Stroke="{AppThemeBinding Light={StaticResource BorderLight}, Dark={StaticResource BorderDark}}"
                        StrokeThickness="1"
                        BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#0F172A}">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>

                    <Button Text="Sair"
                            FontAttributes="Bold"
                            BackgroundColor="Transparent"
                            Padding="14,12"
                            TextColor="{AppThemeBinding Light=#0F172A, Dark=#E5E7EB}"
                            Clicked="OnLogoutClicked"/>
                </Border>

                <BoxView HeightRequest="8" Opacity="0"/>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
